# =============================================================================
# Aerospike Admin UI - Helm Values
# =============================================================================

# -- Number of replicas
replicaCount: 1

# -- Container image settings
image:
  # -- Container image repository
  repository: ghcr.io/kimsoungryoul/aerospike-ui
  # -- Container image tag; defaults to Chart.appVersion when empty
  tag: ""
  # -- Image pull policy
  pullPolicy: IfNotPresent

# -- Image pull secrets for private registries
imagePullSecrets: []

# -- Override the chart name
nameOverride: ""
# -- Override the full resource name
fullnameOverride: ""

# =============================================================================
# Service Account & RBAC
# =============================================================================
serviceAccount:
  # -- Create a service account
  create: true
  # -- Annotations for the service account
  annotations: {}

rbac:
  # -- Create ClusterRole and ClusterRoleBinding for K8s API access
  create: true

# =============================================================================
# Service
# =============================================================================
service:
  # -- Service type
  type: ClusterIP
  # -- Frontend port
  frontendPort: 3000
  # -- Backend port
  backendPort: 8000

# =============================================================================
# Ingress
# =============================================================================
ingress:
  # -- Enable ingress
  enabled: false
  # -- Ingress class name
  className: ""
  # -- Ingress annotations
  annotations: {}
  # -- Ingress hosts
  hosts:
    - host: aerospike-admin.local
      paths:
        - path: /
          pathType: Prefix
  # -- Ingress TLS configuration
  tls: []

# =============================================================================
# Persistence (SQLite)
# =============================================================================
persistence:
  # -- Enable persistent storage for SQLite database
  enabled: true
  # -- Storage class name (empty = default)
  storageClassName: ""
  # -- Access mode
  accessMode: ReadWriteOnce
  # -- Volume size
  size: 1Gi

# =============================================================================
# K8s Cluster Management
# =============================================================================
k8s:
  # -- Enable Kubernetes cluster management features (Create Cluster)
  enabled: true

# =============================================================================
# Resources
# =============================================================================
resources:
  requests:
    cpu: 100m
    memory: 256Mi
  limits:
    cpu: 500m
    memory: 512Mi

# =============================================================================
# Security Context
# =============================================================================
podSecurityContext:
  runAsNonRoot: true
  runAsUser: 1001
  fsGroup: 1001
  seccompProfile:
    type: RuntimeDefault

securityContext:
  allowPrivilegeEscalation: false
  readOnlyRootFilesystem: false
  capabilities:
    drop:
      - ALL

# =============================================================================
# Probes
# =============================================================================
livenessProbe:
  httpGet:
    path: /api/health
    port: backend
  initialDelaySeconds: 15
  periodSeconds: 20
  timeoutSeconds: 5

readinessProbe:
  httpGet:
    path: /api/health
    port: backend
  initialDelaySeconds: 5
  periodSeconds: 10
  timeoutSeconds: 5

startupProbe:
  httpGet:
    path: /api/health
    port: backend
  periodSeconds: 5
  timeoutSeconds: 3
  failureThreshold: 30

# =============================================================================
# Environment
# =============================================================================
env:
  # -- Backend CORS origins
  # -- Backend CORS origins (empty = no CORS; frontend proxies via Next.js rewrites)
  corsOrigins: ""
  # -- Log level
  logLevel: "INFO"

# =============================================================================
# Scheduling
# =============================================================================
nodeSelector: {}
tolerations: []
affinity: {}

# -- Topology spread constraints for pod scheduling
topologySpreadConstraints: []

# -- Pod annotations
podAnnotations: {}

# -- Termination grace period in seconds
terminationGracePeriodSeconds: 45

# =============================================================================
# Network Policy
# =============================================================================
networkPolicy:
  # -- Enable NetworkPolicy for restricting ingress/egress traffic
  enabled: false

# =============================================================================
# Pod Disruption Budget
# =============================================================================
podDisruptionBudget:
  # -- Enable PodDisruptionBudget
  enabled: false
  # -- Minimum number of pods that must remain available (mutually exclusive with maxUnavailable)
  # minAvailable: 1
  # -- Maximum number of pods that can be unavailable (mutually exclusive with minAvailable)
  # maxUnavailable: 1

# =============================================================================
# Extra Environment Variables
# =============================================================================
# -- Extra environment variables to set on the container
# Example:
#   extraEnv:
#     - name: MY_VAR
#       value: "my-value"
extraEnv: []
